<!--
   Underhood angular creates ngForm component
  -->
<form #f="ngForm" (ngSubmit)="onSubmit(f)">
  <div class="form-group">
    <label for="firstname">Firstname</label>
    <!-- 
      Under hood angular creates form control 
      we specify the name 
    -->
    <input required minlength="3" maxlength="10" pattern="banana" ngModel name="firstName" #firstName="ngModel" (change)="log(firstName)"
      type="text" class="form-control" id="firstname" aria-describedby="firsntnameHelp" placeholder="Enter firstname" />

    <div class="alert alert-danger" *ngIf="!firstName.valid && firstName.touched">
      <div *ngIf="firstName.errors.required">Firstname is required</div>
      <div *ngIf="firstName.errors.minlength">Firstname needs to be at least {{firstName.errors.minlength.requiredLength}} charectars</div>
      <div *ngIf="firstName.errors.pattern">Firstname does not match the pattern</div>
    </div>
  </div>

  <div class="form-group">
    <label for="exampleInputEmail1">Email address</label>
    <input required ngModel type="email" name="email" #email="ngModel" (click)="log(email)" type="email" class="form-control"
      id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">

    <div class="alert alert-danger" *ngIf="!email.valid && email.touched">
      <div *ngIf="email.errors.required">Email is required.</div>
    </div>
    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
  </div>
  <div class="form-group">
    <label for="comment">Comment</label>
    <textarea ngModel name="comment" #comment="ngModel" (change)="log(comment)" class="form-control" id="comment"></textarea>
  </div>

  <!-- shipping form sections -->
  <div ngModelGroup="shipping">
    <div class="form-group">
      <label for="addressline1">Address Line One</label>
      <input required ngModel name="addressline1" #addressline1="ngModel" type="text" class="form-control" id="addressline1" aria-describedby="addressline1Help"
        placeholder="Enter Address Line One" />

      <div class="alert alert-danger" *ngIf="!addressline1.valid && addressline1.touched">
        <div *ngIf="addressline1.errors.required">Address Line One is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="addressline2">Address Line Two</label>
      <input required ngModel name="addressline2" #addressline2="ngModel" type="text" class="form-control" id="addressline2" aria-describedby="addressline2Help"
        placeholder="Enter Address Line Two" />

      <div class="alert alert-danger" *ngIf="!addressline2.valid && addressline2.touched">
        <div *ngIf="addressline2.errors.required">Address Line Two is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="exampleFormControlSelect1">Country</label>
      <select ngModel name="city" #city="ngModel" (click)="log(city)" class="form-control" id="exampleFormControlSelect1">
        <option *ngFor="let city of cities" [ngValue]="city">{{city.name}}</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <div class="form-check">
      <input ngModel name="isSubscribed" type="checkbox" class="form-check-input" id="exampleCheck1">
      <label class="form-check-label " for="exampleCheck1 ">Check me out</label>
    </div>
    <p>{{f.value | json}}</p>
  </div>
  <div class="form-check">
    <input ngModel class="form-check-input" type="radio" name="contactMethod" id="exampleRadios1" value="1" checked>
    <label class="form-check-label" for="exampleRadios1">
        Email
      </label>
  </div>

  <div class="form-group">
    <div class="form-check">
      <input ngModel class="form-check-input" type="radio" name="contactMethod" id="exampleRadios2" value="2">
      <label class="form-check-label" for="exampleRadios2">
        Telephone
      </label>
    </div>
  </div>



  <button type="submit " class="btn btn-primary " [disabled]="f.invalid ">Submit</button>
</form>
