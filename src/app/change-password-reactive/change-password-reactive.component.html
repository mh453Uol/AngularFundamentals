<form [formGroup]="form">
  <div class="form-group">
    <label for="oldPassword">Old Password</label>
    <input formControlName="oldPassword" type="text" id="oldpassword" class="form-control" (click)="log(oldPassword)">
    <div *ngIf="oldPassword.pending">Checking for uniqueness..</div>
    <div *ngIf="oldPassword.touched && !oldPassword.valid && !oldPassword.pending" class="alert alert-danger">
      <div *ngIf="oldPassword.errors.required">Old password is required.</div>
      <div *ngIf="oldPassword.errors.confirmPassword">Invalid password.</div>
    </div>
  </div>
  <div class="form-group">
    <label for="newPassword">New Password</label>
    <input formControlName="newPassword" type="text" id="newPassword" class="form-control" (click)="log(newPassword)">
    <div *ngIf="newPassword.touched && !newPassword.valid" class="alert alert-danger">
      <div *ngIf="newPassword.errors.required">New password is required.</div>
    </div>
  </div>
  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input formControlName="confirmPassword" type="text" id="confirmPassword" class="form-control" (click)="log(confirmPassword)">
    <div *ngIf="confirmPassword.touched && !confirmPassword.valid" class="alert alert-danger">
      <div *ngIf="confirmPassword.errors.required">Confirm password is required.</div>
    </div>
  </div>

  <div *ngIf="!form.valid && !form.pending && form.errors?.passwordShouldMatch" class="alert alert-danger">
    Password do not match.
  </div>
</form>
